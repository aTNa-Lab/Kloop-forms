(this["webpackJsonpkloop-forms"]=this["webpackJsonpkloop-forms"]||[]).push([[0],{48:function(e,t,n){},68:function(e,t,n){e.exports=n(90)},73:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(9),o=n.n(l),i=(n(73),n(42)),c=n(50),s=n(51),u=n(54),m=n(53),d=(n(48),n(12)),f=n(120),w=n(131),p=Object(f.a)((function(e){return{root:{"& > *":{width:"40ch"}}}}));var E=function(e){var t=p(),n=r.a.useState(""),a=Object(d.a)(n,2),l=a[0],o=a[1],i=e.index;return r.a.createElement("div",null,r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement("h4",null,e.title),r.a.createElement(w.a,{className:t.root,id:"inputBox"+i,label:"\u041c\u043e\u0439 \u043e\u0442\u0432\u0435\u0442",value:l,onChange:function(t){o(t.target.value),e.returnAnswer(t.target.value,i)}})))},h=n(132),v=n(133),g=n(126),b=n(127),y=Object(f.a)((function(e){return{formControl:{minWidth:120}}}));function A(e){var t=y(),n=r.a.useState(""),a=Object(d.a)(n,2),l=a[0],o=a[1],i=e.index,c=r.a.useState(!1),s=Object(d.a)(c,2),u=s[0],m=s[1];return r.a.createElement("div",null,r.a.createElement("h4",null,e.title),r.a.createElement(g.a,{className:t.formControl},r.a.createElement(h.a,{id:"controlled-open-select-label"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"),r.a.createElement(b.a,{labelId:"controlled-open-select-label",id:"select"+i,open:u,onClose:function(e){m(!1)},onOpen:function(e){m(!0)},value:l,onChange:function(t){o(t.target.value),e.returnAnswer(t.target.value,i)}},r.a.createElement(v.a,{value:""},r.a.createElement("em",null,"None")),e.answers.map((function(e,t){return r.a.createElement(v.a,{key:t,value:e},e)})))))}var k=n(128),O=n(130),j=n(134);function x(e){var t=r.a.useState(""),n=Object(d.a)(t,2),a=n[0],l=n[1],o=e.index;return r.a.createElement("div",null,r.a.createElement("h4",null,e.title),r.a.createElement(g.a,{const:"fieldset"},r.a.createElement(O.a,{"aria-label":e.title,name:e.title,value:a,onChange:function(t){l(t.target.value),e.returnAnswer(t.target.value,o)}},e.answers.map((function(e,t){return r.a.createElement(j.a,{key:t,value:e,control:r.a.createElement(k.a,null),label:e})})))))}var S=Object(f.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"auto"}}}));function N(e){var t=S(),n=r.a.useState(""),a=Object(d.a)(n,2),l=a[0],o=a[1],i=e.index;return r.a.createElement("div",null,r.a.createElement("h4",null,e.title),r.a.createElement("form",{className:t.container,noValidate:!0},r.a.createElement(w.a,{id:"time"+i,label:"\u0412\u0440\u0435\u043c\u044f",type:"time",value:l,onChange:function(t){o(t.target.value),e.returnAnswer(t.target.value,i)},className:t.textField,InputLabelProps:{shrink:!0},InputProps:{disableUnderline:!0}})))}function C(e){var t=r.a.useState({}),n=Object(d.a)(t,2),a=n[0],l=n[1],o=e.index,c={},s=function(t){return function(n){(c=Object(i.a)({},a))[t]=n.target.value,l(c),e.returnAnswer(c,o)}};return r.a.createElement("div",{className:"radioHorizontal"},r.a.createElement("h4",null,e.title),r.a.createElement("div",{className:"question_item"},e.subquestion.map((function(t,n){return r.a.createElement("div",{className:"question_item_",key:n},r.a.createElement("p",null,t),r.a.createElement(g.a,{component:"fieldset",className:"question_item__answer"},r.a.createElement(O.a,{"aria-label":"position",name:"position",className:"question_item__answer_",onChange:s(n)},e.answers.map((function(e,t){return r.a.createElement(j.a,{key:t,value:e,control:r.a.createElement(k.a,{color:"primary"}),label:n>0?"":e,labelPlacement:"top"})})))))}))))}var _=n(77),q=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={questions:[],main_title:"",gateway:"",answers:{},showAnswers:!1},e.downloadData=function(){var t=_.parse(window.location.search,{decode:!1});console.log(t),t.url?fetch(t.url).then((function(e){return console.log("RESPONSE",e),e.json()})).then((function(t){console.log("DATA",t),e.setState({questions:t.questions,main_title:t.main_title,gateway:t.gateway})})):console.log("ERROR: no url detected")},e.uploadData=function(t){fetch(e.state.gateway,{method:"POST",mode:"no-cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(t){console.log("Error",t),e.setState({showAnswers:!0})}))},e.returnAnswer=function(t,n){var a=Object(i.a)({},e.state.answers);a[n]=t,e.setState({answers:a})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.downloadData()}},{key:"render",value:function(){var e=this,t=this.state.questions.map((function(t,n){return"input"===t.type?r.a.createElement(E,{key:n,index:n,title:t.title,returnAnswer:e.returnAnswer}):"select"===t.type?r.a.createElement(A,{key:n,index:n,title:t.title,answers:t.answer,returnAnswer:e.returnAnswer}):"radio"===t.type?r.a.createElement(x,{key:n,index:n,title:t.title,answers:t.answer,returnAnswer:e.returnAnswer}):"time"===t.type?r.a.createElement(N,{key:n,index:n,title:t.title,returnAnswer:e.returnAnswer}):"multiradio"===t.type?r.a.createElement(C,{key:n,index:n,title:t.title,subquestion:t.subquestion,answers:t.answer,returnAnswer:e.returnAnswer}):null}));return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"text-align-center"},this.state.main_title),r.a.createElement("button",{onClick:function(){return e.uploadData("HELLo")}}),this.state.showAnswers?r.a.createElement("p",null,JSON.stringify(this.state.answers)):null,r.a.createElement("button",{onClick:function(){return e.uploadData({a:"HELLo"})}},"Send data"),r.a.createElement("button",{onClick:function(){return console.log(e.state)}},"Show state"),t)}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[68,1,2]]]);
//# sourceMappingURL=main.1c3d31c8.chunk.js.map